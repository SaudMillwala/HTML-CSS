<!doctype html>
<head>
  <title>hw3_q10</title>
</head>

<body>
    <p> How much is
      <span id="num1" value = question()></span>
       multiplied by
      <span id="num2"></span> ?
    </p>

    <input type="number"  id = "userResult"></input>

    <button onclick="checkanswer()">Check answer</button>

    <p id = "afterCheck"></p>

    <script>
         document.getElementById("num1").innerHTML = Math.floor((Math.random() * 10) + 1);
         document.getElementById("num2").innerHTML = Math.floor((Math.random() * 10) + 1);

         var correctAmount = 0;
         var wrongAmount = 0;
         var totalAmount = 10;

        function getnewquestion()
        {
         document.getElementById("num1").innerHTML = Math.floor((Math.random() * 10) + 1);
         document.getElementById("num2").innerHTML = Math.floor((Math.random() * 10) + 1);
         }

        function checkanswer()
        {
          var a = document.getElementById("num1").innerText;
          var b = document.getElementById("num2").innerText;
          var c = a * b;

          var goodcomments = ["Very good!","Excellent!","Nice work!"," Keep up the good work!"];
          var badcomments = ["No. Please try again."," Wrong. Try once more."," Don't give up!"," No. Keep trying"];

          var userResult = document.getElementById("userResult").value;
          var index = Math.floor((Math.random() * 3));


          if(c == userResult)
          {
             document.getElementById("afterCheck").innerHTML = goodcomments[index];
             correctAmount++;
             setTimeout(function()
             {
                 getnewquestion();
                 document.getElementById("userResult").value = "";
                 document.getElementById("afterCheck").innerHTML = "";
                 }, 1500);
              }
          else
          {
            document.getElementById("afterCheck").innerHTML = badcomments[index];
            wrongAmount++;
          }

          if (correctAmount + wrongAmount == totalAmount)
          {
            var percentScore = (correctAmount / totalAmount) * 100;
            document.getElementById("afterCheck").innerHTML = percentScore;
            if (percentScore < 75)
            {
              document.getElementById("afterCheck").innerHTML = "please ask your instructor for help";
            }
            correctAmount = 0;
            wrongAmount = 0;

          }
        }
  </script>

</body>
